<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ìƒê¸‰ ì•„ë¹„ë„ìŠ¤ ìœµí™”ì¬ë£Œ ê³„ì‚°ê¸°</title>
</head>
<body>
  <h2>ğŸ“¦ ìƒê¸‰ ì•„ë¹„ë„ìŠ¤ ìœµí™”ì¬ë£Œ ê³„ì‚°ê¸°</h2>

  <label>ì¼ë°˜ ëª©ì¬:
    <input id="gw" type="number">
  </label><br>

  <label>ë¶€ë“œëŸ¬ìš´ ëª©ì¬:
    <input id="sw" type="number">
  </label><br>

  <label>ì•„ë¹„ë„ìŠ¤ ëª©ì¬:
    <input id="abidos" type="number">
  </label><br><br>

  <button onclick="calculate()">ê³„ì‚°í•˜ê¸°</button>

  <pre id="result"
       style="background:#f9f9f9; padding:12px; border:1px solid #ccc; margin-top:12px;">
  </pre>

  <script>
    function calculate() {
      const gw_total = parseInt(document.getElementById("gw").value);
      const sw_total = parseInt(document.getElementById("sw").value);
      const abidos_init = parseInt(document.getElementById("abidos").value);

      let maxCount = 0;
      let bestGw = 0;
      let bestSw = 0;
      let bestAbidos = abidos_init;

      for (let gwUsed = 0; gwUsed <= gw_total; gwUsed += 100) {
        for (let swUsed = 0; swUsed <= sw_total; swUsed += 50) {

          const powder =
            Math.floor(gwUsed / 100) * 80 +
            Math.floor(swUsed / 50) * 80;

          const abidosGained = Math.floor(powder / 100) * 10;
          const abidosTotal = abidos_init + abidosGained;

          const gwLeft = gw_total - gwUsed;
          const swLeft = sw_total - swUsed;

          // ğŸ”¥ ë³€ê²½ëœ ì œì‘ ë¹„ìœ¨
          const fusionCount = Math.min(
            Math.floor(gwLeft / 112),
            Math.floor(swLeft / 59),
            Math.floor(abidosTotal / 43)
          );

          if (fusionCount > maxCount) {
            maxCount = fusionCount;
            bestGw = gwUsed;
            bestSw = swUsed;
            bestAbidos = abidosTotal;
          }
        }
      }

      const fusionItems = maxCount * 10;
      const goldCost = maxCount * 447;

      const gwRemain = gw_total - bestGw - maxCount * 112;
      const swRemain = sw_total - bestSw - maxCount * 59;
      const abidosRemain = bestAbidos - maxCount * 43;

      const result = `
ğŸ’  ìƒê¸‰ ìœµí™”ì¬ë£Œ ì œì‘ ìˆ˜: ${fusionItems}ê°œ

ğŸª“ ë²Œëª©ìš© ì¼ë°˜ ëª©ì¬: ${bestGw}
ğŸŒ² ë²Œëª©ìš© ë¶€ë“œëŸ¬ìš´ ëª©ì¬: ${bestSw}
ğŸ” ì¶”ê°€ í™•ë³´ ì•„ë¹„ë„ìŠ¤ ëª©ì¬: ${bestAbidos - abidos_init}

ğŸª™ ì´ ê³¨ë“œ ì†Œëª¨: ${goldCost} G

ğŸ“¦ ë‚¨ì€ ì¼ë°˜ ëª©ì¬: ${gwRemain}
ğŸ“¦ ë‚¨ì€ ë¶€ë“œëŸ¬ìš´ ëª©ì¬: ${swRemain}
ğŸ“¦ ë‚¨ì€ ì•„ë¹„ë„ìŠ¤ ëª©ì¬: ${abidosRemain}
      `;

      document.getElementById("result").textContent = result;
    }
  </script>
</body>
</html>

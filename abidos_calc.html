<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ì•„ë¹„ë„ìŠ¤ ìœµí™”ì¬ë£Œ ê³„ì‚°ê¸°</title>
</head>
<body>
  <h2>ğŸ“¦ ì•„ë¹„ë„ìŠ¤ ìœµí™”ì¬ë£Œ ê³„ì‚°ê¸°</h2>
  <label>ì¼ë°˜ ëª©ì¬: <input id="gw" type="number"></label><br>
  <label>ë¶€ë“œëŸ¬ìš´ ëª©ì¬: <input id="sw" type="number"></label><br>
  <label>ì•„ë¹„ë„ìŠ¤ ëª©ì¬: <input id="abidos" type="number"></label><br><br>
  <button onclick="calculate()">ê³„ì‚°í•˜ê¸°</button>
  <pre id="result" style="background:#f9f9f9; padding:10px; border:1px solid #ccc; margin-top:10px;"></pre>

  <script>
    function calculate() {
      const gw_total = parseInt(document.getElementById("gw").value);
      const sw_total = parseInt(document.getElementById("sw").value);
      const abidos_init = parseInt(document.getElementById("abidos").value);
      let maxCount = 0, bestGw = 0, bestSw = 0, bestAbidos = 0;

      for (let gwUsed = 0; gwUsed <= gw_total; gwUsed += 100) {
        for (let swUsed = 0; swUsed <= sw_total; swUsed += 50) {
          let powder = Math.floor(gwUsed / 100) * 80 + Math.floor(swUsed / 50) * 80;
          let abidosGained = Math.floor(powder / 100) * 10;
          let abidosTotal = abidos_init + abidosGained;
          let gwLeft = gw_total - gwUsed;
          let swLeft = sw_total - swUsed;

          let count = Math.min(
            Math.floor(gwLeft / 86),
            Math.floor(swLeft / 45),
            Math.floor(abidosTotal / 33)
          );

          if (count > maxCount) {
            maxCount = count;
            bestGw = gwUsed;
            bestSw = swUsed;
            bestAbidos = abidosTotal;
          }
        }
      }

      const fusionCount = maxCount * 10;
      const goldCost = maxCount * 384;
      const gwRemaining = gw_total - bestGw - maxCount * 86;
      const swRemaining = sw_total - bestSw - maxCount * 45;
      const abidosRemaining = bestAbidos - maxCount * 33;

      const result = `
ğŸ’  ìœµí™”ì¬ë£Œ ì œì‘ ìˆ˜: ${fusionCount}ê°œ
ğŸª“ ë²Œëª©ì˜ ê°€ë£¨ìš© ì¼ë°˜ ëª©ì¬: ${bestGw}
ğŸŒ² ë²Œëª©ì˜ ê°€ë£¨ìš© ë¶€ë“œëŸ¬ìš´ ëª©ì¬: ${bestSw}
ğŸ” íšë“í•œ ì•„ë¹„ë„ìŠ¤ ëª©ì¬: ${bestAbidos - abidos_init}
ğŸª™ ì´ ê³¨ë“œ ì†Œëª¨: ${goldCost} G

ğŸ“¦ ë‚¨ì€ ì¼ë°˜ ëª©ì¬: ${gwRemaining}
ğŸ“¦ ë‚¨ì€ ë¶€ë“œëŸ¬ìš´ ëª©ì¬: ${swRemaining}
ğŸ“¦ ë‚¨ì€ ì•„ë¹„ë„ìŠ¤ ëª©ì¬: ${abidosRemaining}
      `;
      document.getElementById("result").textContent = result;
    }
  </script>
</body>
</html>
